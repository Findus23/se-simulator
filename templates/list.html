{% extends "base.html" %}
{% from 'macros.html' import pagination, siteheader %}
{% block body %}
    {{ siteheader(site) }}

    <label for="siteselector">Seite</label>
    <input id="siteselector" class="awesomplete" value="{{ site.url if not site.fallback }}"/>
    {% if not site.fallback %}

        <a href="{{ url_for("index") }}">Clear filter</a>
    {% endif %}
    {{ pagination(pagearray, num_pages, page, True) }}
    {% for question in questions %}
        <div class="content question"
             style="border-right-color:{{ question.site.tag_foreground_color }};background-color:{{ question.site.tag_background_color }}">
            <div class="vote" data-id="{{ question.id }}" data-type="question">
                <a class="up"></a>
                <div>{{ question.upvotes - question.downvotes }}</div>
                <a class="down"></a>
            </div>
            <div class="contentbox">
                <a href="https://{{ question.site.url }}" class="sitename" target="_blank" rel="noopener">
                    {{ question.site.name }}
                </a>
                <div>
                    <a class="title" style="color:{{ question.site.link_color }}"
                       href="{{ url_for("question",slug=question.title.slug) }}">{{ question.title.text }}</a>
                </div>
                {{ question.text|truncate(200, False, ' â€¦', 10) }}
                <div class="date">
                    asked {{ prettydate(question.datetime) }} by {{ question.user.username }}
                </div>
            </div>
        </div>
    {% endfor %}
    {{ pagination(pagearray, num_pages, page, False) }}
{% endblock %}
